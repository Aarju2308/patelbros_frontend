<div class="sticky-header-next-sec  ec-breadcrumb section-space-mb">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="row ec_breadcrumb_inner">
                    <div class="col-md-6 col-sm-12">
                        <h2 class="ec-breadcrumb-title">Single Products</h2>
                    </div>
                    <div class="col-md-6 col-sm-12">
                        <!-- ec-breadcrumb-list start -->
                        <ul class="ec-breadcrumb-list">
                            <li class="ec-breadcrumb-item"><a [routerLink]="['/']"
                                    routerLinkActive="router-link-active">Home</a></li>
                            <li class="ec-breadcrumb-item active">Products</li>
                        </ul>
                        <!-- ec-breadcrumb-list end -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Sart Single product -->
<section class="ec-page-content section-space-p">
    <div class="container">
        <div class="row">
            <div class="ec-pro-rightside ec-common-rightside col-lg-12 col-md-12">

                <!-- Single product content Start -->
                <div class="single-pro-block">
                    <div class="single-pro-inner">
                        <div class="row">
                            <div class="single-pro-img single-pro-img-no-sidebar">
                                <div class="single-product-scroll">
                                    <div class="single-product-cover">
                                        <div class="single-slide zoom-image-hover">
                                            <img class="img-responsive" src="{{getImage(productDetails.image)}}" alt="">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="single-pro-desc single-pro-desc-no-sidebar">
                                <div class="single-pro-content">
                                    <h5 class="ec-single-title">{{productDetails.name}}</h5>
                                    <div class="ec-single-rating-wrap">
                                        <app-rating [rating]="productDetails.rating || 0"></app-rating>
                                        <span class="ec-read-review ms-3"><a >Be the first to
                                                review this product</a></span>
                                    </div>

                                    <div class="ec-single-sales">
                                        <div class="ec-single-sales-inner">
                                            <div class="ec-single-sales-title">sales accelerators</div>
                                            <div class="ec-single-sales-visitor">real time <span>24</span> visitor
                                                right now!</div>
                                            <div class="ec-single-sales-progress">
                                                <span class="ec-single-progress-desc">Hurry up!left 29 in
                                                    stock</span>
                                                <span class="ec-single-progressbar"></span>
                                            </div>
                                            <div class="ec-single-sales-countdown">
                                                <div class="ec-single-countdown"><span id="ec-single-countdown"></span>
                                                </div>
                                                <div class="ec-single-count-desc">Time is Running Out!</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="ec-single-price-stoke">
                                        <div class="ec-single-price">
                                            <span class="ec-single-ps-title">As low as</span>
                                            <span class="new-price">{{ productDetails.price| currency }}</span>
                                        </div>
                                        <div class="ec-single-stoke">
                                            <span class="ec-single-ps-title">IN STOCK</span>
                                            <span class="ec-single-sku">SKU#: WH{{productDetails.id}}</span>
                                        </div>
                                    </div>
                                    <div class="ec-single-qty">
                                        <div class="qty-plus-minus">
                                            <div (click)="minusQty()" class="dec ec_qtybtn">-</div>
                                            <input class="qty-input disabled" disabled [(ngModel)]="cartRequest.quantity"
                                                type="text" name="ec_qtybtn">
                                            <div (click)="addQty()" class="inc ec_qtybtn">+</div>
                                        </div>
                                        <div class="ec-single-cart ">
                                            <button (click)="addToCart()" class="btn btn-primary">Add To Cart</button>
                                        </div>
                                    </div>
                                    <div class="ec-single-social">
                                        <ul class="mb-0">
                                            <li class="list-inline-item facebook"><a href="#"><i
                                                        class="ecicon eci-facebook"></i></a></li>
                                            <li class="list-inline-item twitter"><a href="#"><i
                                                        class="ecicon eci-twitter"></i></a></li>
                                            <li class="list-inline-item instagram"><a href="#"><i
                                                        class="ecicon eci-instagram"></i></a></li>
                                            <li class="list-inline-item whatsapp"><a href="#"><i
                                                        class="ecicon eci-whatsapp"></i></a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Single product content End -->
                <!-- Single product tab start -->
                <div class="ec-single-pro-tab">
                    <div class="ec-single-pro-tab-wrapper">
                        <div class="ec-single-pro-tab-nav">
                            <ul class="nav nav-tabs">
                                <li class="nav-item">
                                    <a class="nav-link" [ngClass]="{'active': !showReviews}" (click)="showReviews = !showReviews" 
                                        role="tablist">Detail</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" [ngClass]="{'active': showReviews}" (click)="showReviews = !showReviews" 
                                        role="tablist">Reviews</a>
                                </li>
                            </ul>
                        </div>
                        <div class="tab-content  ec-single-pro-tab-content">
                            <div id="ec-spt-nav-details" [ngClass]="{'show active': !showReviews}" class="tab-pane fade">
                                <div class="ec-single-pro-tab-desc">
                                    <p>{{productDetails.descrtiption}}
                                    </p>
                                    <ul>
                                        <li>Any Product types that You want - Simple, Configurable</li>
                                        <li>Downloadable/Digital Products, Virtual Products</li>
                                        <li>Inventory Management with Backordered items</li>
                                        <li>Flatlock seams throughout.</li>
                                    </ul>
                                </div>
                            </div>

                            <div id="ec-spt-nav-review" [ngClass]="{'show active': showReviews}" class="tab-pane fade">
                                <div class="row">
                                    <div class="ec-t-review-wrapper">
                                        <div class="ec-t-review-item">
                                            <div class="ec-t-review-avtar">
                                                <img src="assets/images/user/1.jpg" alt="" />
                                            </div>
                                            <div class="ec-t-review-content">
                                                <div class="ec-t-review-top">
                                                    <div class="ec-t-review-name">Jeny Doe</div>
                                                    <div class="ec-t-review-rating">
                                                        <i class="ecicon eci-star fill"></i>
                                                        <i class="ecicon eci-star fill"></i>
                                                        <i class="ecicon eci-star fill"></i>
                                                        <i class="ecicon eci-star fill"></i>
                                                        <i class="ecicon eci-star-o"></i>
                                                    </div>
                                                </div>
                                                <div class="ec-t-review-bottom">
                                                    <p>Lorem Ipsum is simply dummy text of the printing and
                                                        typesetting industry. Lorem Ipsum has been the industry's
                                                        standard dummy text ever since the 1500s, when an unknown
                                                        printer took a galley of type and scrambled it to make a
                                                        type specimen.
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="ec-ratting-content">
                                        <h3>Add a Review</h3>
                                        <div class="ec-ratting-form">
                                            <form action="#">
                                                <div class="ec-ratting-star row">
                                                    <!-- <div class="col-6">
                                                        <label for="customRange3" class="form-label">Ratings</label>
                                                        <input [(ngModel)]="feedback.rating" [defaultValue]="feedback.rating" name="rating" type="range" class="form-range" min="0" max="5" step="0.5" id="customRange3">
                                                    </div>
                                                    <div class="col-6 ms-5">
                                                        <app-rating [rating]="feedback.rating || 0"></app-rating>
                                                    </div> -->
                                                </div>
                                                <div class="ec-ratting-input">
                                                    <input name="your-name" placeholder="Name" type="text" />
                                                </div>
                                                <div class="ec-ratting-input">
                                                    <input name="your-email" placeholder="Email*" type="email"
                                                        required />
                                                </div>
                                                <div class="ec-ratting-input form-submit">
                                                    <textarea name="your-commemt"
                                                        placeholder="Enter Your Comment"></textarea>
                                                    <button class="btn btn-primary" type="submit"
                                                        value="Submit">Submit</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- product details description area end -->
            </div>

        </div>
    </div>
</section>
<!-- End Single product -->

@if (relatedProducts) {
    <!-- Related Product Start -->
    <section class="section ec-releted-product section-space-p">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <div class="section-title">
                        <h2 class="ec-bg-title">Related products</h2>
                        <h2 class="ec-title">Related products</h2>
                        <p class="sub-title">Browse The Collection of Top Products</p>
                    </div>
                </div>
            </div>
            <div class="row margin-minus-b-30">
                <!-- Related Product Content -->
                @for (pro of relatedProducts.content; track $index) {
                    <div class="col-lg-3 col-md-6 col-sm-6 col-xs-6 mb-6 pro-gl-content">
                        <div class="ec-product-ds">
                            <div class="ec-product-image">
                                <a [routerLink]="['singleProduct',pro.id]"  class="image">
                                    <img class="pic-1" src="{{getImage(pro.image)}}" alt="">
                                </a>
                                <span class="ec-product-discount-label">New</span>
                                <ul class="links">
                                    <!-- <li><a href="#" data-tip="Add to Wishlist"><i class="fi-rr-heart"></i></a></li> -->
                                    <!-- <li><a href="#" data-tip="Compare"><i class="fi fi-rr-arrows-repeat"></i></a></li> -->
                                    <li><a [routerLink]="['singleProduct',pro.id]" data-tip="Quick View"><i class="fi-rr-eye"></i></a></li>
                                </ul>
                            </div>
                            <div class="ec-product-body">
                                <app-rating [rating]="pro.rating || 0"></app-rating>
                                <h3 class="ec-title"><a [routerLink]="['singleProduct',pro.id]" >{{pro.name}}</a></h3>
                                <div class="ec-price"> {{pro.price | currency}}</div>
                                <a class=" ec-add-to-cart" href="#">add to cart</a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </section>
    <!-- Related Product end -->
}